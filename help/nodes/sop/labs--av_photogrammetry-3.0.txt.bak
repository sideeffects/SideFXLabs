= Labs AV Photogrammetry =

#type: node
#context: sop
#internal: labs::av_photogrammetry::3.0
#icon: alicevision.png
#tags: sidefxlabs,  photogrammetry

"""  The complete Alicevision photogrammetry pipeline. """

This node is a one node pipeline with Alicevision photogrammetry. Contained in this node are all the steps required to use Alicevision for your convenience.

@parameters
    == Main ==
    Cook:
        Start the cooking process for this step.
    Manual Mode:
        This toggle controls if the node should automatically recook if any dependencies have changed.
    Use Log:
        This toggle controls if the status of the current node should be printed to the console. This is useful for getting a quick overview of the progress.
    == Initialize ==
    Project Name:
        This is the project name that Alicevision will use for creating project files. It is important to have a unique project name per processed object to prevent accidental overwrites.
    Cache Directory:
        This directory will be used to store all the generated data. Removing this directory will undo any progress so far.
    Alicevision Directory:
        This can be used to point to the compiled binaries of Alicevision that should be used for processing.
    Default Field of View:
        Empirical value for the field of view in degree.
    Color Mode:
        This controls if the final mesh should use vertex color or textures.
    Images:
        This multiparm holds all images as entries that need to be processed by Alicevision.
    == Meshing ==
    Filter Large Triangles Factor:
        Remove all large triangles. We consider a triangle as large if one edge is bigger than N times the average edge length. Put zero to disable it.
    Num of Iterations:
        Number of smoothing iterations.
    Keep Only the Largest Mesh:
        Keep only the largest connected triangles group.
    == Texturing ==
    Texture Side:
        Output texture size.
    Texture Downscale:
        Texture downscale factor.
    Texture File Type:
        Texture File Type.
    Fill Holes:
        Fill Texture holes with plausible values.
    Use UDIM UVs:
        Use UDIM UV mapping.
    == Advanced ==
    Describer Types:
        Describer types used to describe an image.
    Describer Preset:
        Control the ImageDescriber configuration (low, medium, normal, high, ultra). Configuration "ultra" can take long time !
    Force CPU Extraction:
        Use only CPU feature extraction.
    Max Num of Matches:
        Maximum number of matches per image pair (and per feature type).
    Downscale:
        Image downscale factor.

@outputs
Textured Geometry:
    This is the final geometry produced by Alicevision.
Pointcloud:
    This is the pointcloud generated by the meshing step.
Cameras:
    These are the camera transforms that have been extracted from the images processed.